## -*- coding: utf-8 -*-
<!DOCTYPE html>
<html lang="${lang}">
<head>
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">

    <%block name="head_title">
    ## If we're on a tag list page or on a post/page show page title + blog title
    %if 'tag' in context.keys() or 'post' in context.keys():
        <title>${title|striphtml} - ${blog_title|striphtml}</title>
    %else:
        <title>${blog_title|striphtml}</title>
    %endif
    </%block>

    <link href="https://plus.google.com/100739856147735932449" rel="author" />
    <link href="/assets/css/theme.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Lato:300italic,300" rel="stylesheet" type="text/css" />

    <link rel="alternate" type="application/rss+xml" title="${blog_title|striphtml}" href="${_link('rss', None)}">

    <%block name="extra_head"></%block>
</head>

<body>
    <header>
        <h1><a href="/">Simon van der Veldt</a></h1>
        <nav id="navigation">
            <a id="about" href="/about">about</a>
            <a id="resume" href="/resume">résumé</a>
            <a id="linkedin" href="http://www.linkedin.com/in/simonvanderveldt">linkedin</a>
            <a id="gplus" href="http://gplus.to/simonvanderveldt">google+</a>
            <a id="github" href="https://github.com/simonvanderveldt">github</a>
        </nav>
    </header>

    <%block name="content"></%block>

    <footer>&copy; 2013 - 2014 ${blog_author} - <a href="/rss.xml">Newsfeed</a></footer>

    <script type="text/javascript">
    function getScript(url,success){
        var head=document.getElementsByTagName('head')[0]
        var script=document.createElement('script');
        script.src=url;

        done=false;
        script.onload=script.onreadystatechange = function(){
            if ( !done && (!this.readyState || this.readyState == 'loaded' || this.readyState == 'complete') ) {
                done=true;
                success();
                script.onload = script.onreadystatechange = null;
                head.removeChild(script);
            }
        };
        head.appendChild(script);
    }

    getScript("https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js", function(){
        $.ajaxSetup({
            cache: true
        });
        $.getScript( "/assets/js/scripts.js" );});
    </script>

</body>
